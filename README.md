Rm9yZSA9IGNvbG9yYW1hLkZvcmU7Y29sb3JhbWEuaW5pdChhdXRvcmVzZXQ9VHJ1ZSkKTWVzc2FnZUJveCA9IGN0eXBlcy53aW5kbGwudXNlcjMyLk1lc3NhZ2VCb3hXCnRyeToKCVNldHRpbmdzID0gb3BlbignU2V0dGluZ3MudHh0JywgJ3InLCBlbmNvZGluZz0idXRmLTgiKS5yZWFkKCkKZXhjZXB0OgoJd2l0aCBvcGVuKCJTZXR0aW5ncy50eHQiLCAiYSIpIGFzIHg6CgkJTmFtZUFkbWluID0gaW5wdXQoJ1stXSBBZG1pbiBOYW1lIDogJykKCQlOYW1lID0gaW5wdXQoJ1stXSBOYW1lIDogJykKCQlNc2cgPSBpbnB1dCgnWy1dIE1zZyBBbmQgW0BdIDogJykKCQlCaW8gPSBpbnB1dCgnWy1dIEJpbyA6ICcpCgkJeC53cml0ZSgiWy1dIEFkbWluIE5hbWUgOiAiICsgTmFtZUFkbWluICsgIlxuWy1dIE5hbWUgOiAiICsgTmFtZSArICJcblstXSBNc2cgOiAiICsgTXNnICsgIlxuWy1dIEJpbyA6ICIgKyBCaW8pCglTZXR0aW5ncyA9IG9wZW4oJ1NldHRpbmdzLnR4dCcsICdyJywgZW5jb2Rpbmc9InV0Zi04IikucmVhZCgpCnRyeToKCUggPSBTZXR0aW5ncy5zcGxpdCgiXG4iKVswXQoJTmFtZUFkbWluID0gSC5zcGxpdCgnWy1dIEFkbWluIE5hbWUgOiAnKVsxXQoJSCA9IFNldHRpbmdzLnNwbGl0KCJcbiIpWzFdCglOYW1lID0gSC5zcGxpdCgnWy1dIE5hbWUgOiAnKVsxXQoJSCA9IFNldHRpbmdzLnNwbGl0KCJcbiIpWzJdCglNc2cgPSBILnNwbGl0KCdbLV0gTXNnIDogJylbMV0KCUggPSBTZXR0aW5ncy5zcGxpdCgiXG4iKVszXQoJQmlvID0gSC5zcGxpdCgnWy1dIEJpbyA6ICcpWzFdCmV4Y2VwdDoKCXByaW50KGYie0ZvcmUuUkVEfVsgIiArIEZvcmUuV0hJVEUgKyAiLyIgKyBGb3JlLlJFRCArICIgXSBPcGVuIEZpbGUgJiBDaGVjayBGaWxlIik7aW5wdXQoKQoJZXhpdCgpClBhc3RlU2FoZSA9IGdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3NhaGVicmluZS8tU2FoZS5weS9tYWluL1JFQURNRS5tZCIpLnRleHQKdHJ5OgoJSCA9IFBhc3RlU2FoZS5zcGxpdChOYW1lQWRtaW4pWzFdCglIID0gSC5zcGxpdCgnRGlzY29yZCA6ICcpWzFdCglEaXNIZXggPSBILnNwbGl0KCdQYXN0ZWJpbiA6ICcpWzBdCglIID0gSC5zcGxpdCgnUGFzdGViaW4gOiAnKVsxXQoJUGFzdGVIZXggPSBILnNwbGl0KE5hbWVBZG1pbilbMF0KZXhjZXB0OgoJcHJpbnQoZiJ7Rm9yZS5SRUR9WyAiICsgRm9yZS5XSElURSArICIvIiArIEZvcmUuUkVEICsgIiBdIEhpPz8\/IFlvdXIgQWRtaW4\/Pz8gUGxlYXNlIENvbm5lY3QgU2tvcCBAdm50cSBvciBAdm50cS5vbGQiKTtpbnB1dCgpCglleGl0KCkKQmFubmVyID0gZ2V0KCJodHRwOi8vYXJ0aWkuaGVyb2t1YXBwLmNvbS9tYWtlP3RleHQ9IiArIE5hbWUpLnRleHQKb3Muc3lzdGVtKCdjbHMnKQpBID0gMDsgUiA9IDA7IFQgPSAwCnMgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19ER1JBTSkKcy5jb25uZWN0KCgnZ29vZ2xlLmNvbScsIDgwKSkKaVAgPSBzLmdldHNvY2tuYW1lKClbMF0KUGFzdGVTYWhlID0gZ2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vc2FoZWJyaW5lLy1TYWhlLnB5L21haW4vUkVBRE1FLm1kIikudGV4dApkZWYgQ29uSGV4KEhleGlOdCk6CglyZXR1cm4gY2hyKGludChIZXhpTnQsIDE2KSkKSGV4U3RyID0gUGFzdGVIZXgKU3RyU3JjID0gIiIKaWYgbGVuKEhleFN0ci5zdHJpcCgpKSAlIDIgPT0gMDoKCWZvciBpIGluIHJhbmdlICgwLGxlbihIZXhTdHIuc3RyaXAoKSksMik6CgkJU3RyTnVtSGV4ID0gSGV4U3RyLnN0cmlwKClbaV0gKyBIZXhTdHIuc3RyaXAoKVtpKzFdCgkJU3RyU3JjICs9IENvbkhleChTdHJOdW1IZXgpClBhc3RlQmluID0gU3RyU3JjCmRlZiBDb25IZXgoSGV4aU50KToKCXJldHVybiBjaHIoaW50KEhleGlOdCwgMTYpKQpIZXhTdHIgPSBEaXNIZXgKU3RyU3JjID0gIiIKaWYgbGVuKEhleFN0ci5zdHJpcCgpKSAlIDIgPT0gMDoKCWZvciBpIGluIHJhbmdlICgwLGxlbihIZXhTdHIuc3RyaXAoKSksMik6CgkJU3RyTnVtSGV4ID0gSGV4U3RyLnN0cmlwKClbaV0gKyBIZXhTdHIuc3RyaXAoKVtpKzFdCgkJU3RyU3JjICs9IENvbkhleChTdHJOdW1IZXgpCkRpc2NvcmQgPSBTdHJTcmMKaWYgRGlzSGV4IGluIFBhc3RlU2FoZSBhbmQgUGFzdGVIZXggaW4gUGFzdGVTYWhlOgoJUGFzdGVBZG1pbiA9IGdldChQYXN0ZUJpbikudGV4dAoJaWYgbm90IGlQIGluIFBhc3RlQWRtaW46CgkJcHJpbnQoZiJ7Rm9yZS5SRUR9WyAiICsgRm9yZS5XSElURSArICIvIiArIEZvcmUuUkVEICsgZiIgXSBZb3VyIGlQIHtpUH0gLCBFbnRlciBUbyBFeGl0Iik7aW5wdXQoKQoJCWV4aXQoKQpNID0gaW50KGlucHV0KCJbIC8gXSAxIDogUmVkXG5bIC8gXSAyIDogU2lsdmVyXG5bIC8gXSAzIDogR3JlZW5cblsgLyBdIDQgOiBZZWxsb3dcblsgLyBdIDUgOiBDeWFuXG5bIC8gXSA2IDogTWFnZW50YVxuWyAvIF0gTnVtYmVyIDogIikpCmlmIE0gPT0gMToKCUNvbG9yID0gRm9yZS5SRUQKZWxpZiBNID09IDI6CglDb2xvciA9IEZvcmUuTElHSFRCTEFDS19FWAplbGlmIE0gPT0gMzoKCUNvbG9yID0gRm9yZS5HUkVFTgplbGlmIE0gPT0gNDoKCUNvbG9yID0gRm9yZS5ZRUxMT1cKZWxpZiBNID09IDU6CglDb2xvciA9IEZvcmUuQ1lBTgplbGlmIE0gPT0gNjoKCUNvbG9yID0gRm9yZS5NQUdFTlRBCm9zLnN5c3RlbSgnY2xzJykKcHJpbnQoQ29sb3IgKyBCYW5uZXIpCm9zLnN5c3RlbShmJ3RpdGxlOiB7TmFtZX0nKQpkZWYgU2VuZERpYygpOgoJaWYgbGVuKFRyKSA8IDU6CgkJSSA9IHBvc3QoRGlzY29yZCwganNvbj17ImNvbnRlbnQiOiAiIiwiZW1iZWRzIjpbeyJ0aXRsZSI6ICJOZXcgU3dhcCIsImRlc2NyaXB0aW9uIjogZiJVc2VyIDogQHtUcn1cbkJ5IDoge05hbWV9XG4qKmh0dHBzOi8vaW5zdGFncmFtLmNvbS97VHJ9LyoqIiwidXJsIjogIiIsImNvbG9yIjogIjE1OTM3NzkzIiwiaW1hZ2UiOiB7InVybCI6ICJodHRwczovL2dpZmZpbGVzLmFscGhhY29kZXJzLmNvbS8xMzIvMTMyNjcuZ2lmIn19XSwidXNlcm5hbWUiOiBOYW1lLCJhdmF0YXJfdXJsIjogImh0dHBzOi8vYi50b3A0dG9wLmlvL3BfMjE0Nnl6NGppMC5qcGVnIn0sIGhlYWRlcnM9eyJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiJ9KS50ZXh0CmRlZiBTd2FwKCk6CglnbG9iYWwgQSwgUiwgVAoJd2hpbGUgMToKCQl0cnk6CgkJCVJlcSA9IHBvc3QoImh0dHBzOi8vaS5pbnN0YWdyYW0uY29tL2FwaS92MS9hY2NvdW50cy9zZXRfdXNlcm5hbWUvIiwgZGF0YT17InVzZXJuYW1lIjpUcn0sIGhlYWRlcnM9eyJVc2VyLUFnZW50IjoiSW5zdGFncmFtIDEyMy4xLjAuMjYuMTE0IChpUGhvbmVYUikiLCJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgifSwgY29va2llcz1Db29raWVzKS5zdGF0dXNfY29kZQoJCQlpZiBSZXEgPT0gMjAwOgoJCQkJaWYgUiA9PSAwOgoJCQkJCVIgPSAxCgkJCQkJaWYgQSA9PSAwOgoJCQkJCQlwcmludChmIntDb2xvcn1bICIgKyBGb3JlLldISVRFICsgIi8iICsgQ29sb3IgKyBmIiBdIHtNc2d9e1RyfSIpCgkJCQkJZWxzZToKCQkJCQkJcHJpbnQoZiJcbntDb2xvcn1bICIgKyBGb3JlLldISVRFICsgIi8iICsgQ29sb3IgKyBmIiBdIHtNc2d9e1RyfSIpCgkJCQkJU2VuZERpYygpCgkJCQkJTWVzc2FnZUJveChOb25lLCBmJ3tNc2d9e1RyfScsIE5hbWUsIDApCgkJCWVsaWYgUmVxID09IDQyOToKCQkJCWlmIFIgPT0gMDoKCQkJCQlUICs9IDEKCQkJCQlpZiBUID09IDEwOgoJCQkJCQlwcmludChmIlxue0NvbG9yfVsgIiArIEZvcmUuV0hJVEUgKyAiLyIgKyBDb2xvciArIGYiIF0gWW91ciBBY2NvdW50IGlzIFNwYW0sIEVudGVyIFRvIEV4aXQiKQoJCQllbGlmIFJlcSA9PSA0MDA6CgkJCQlpZiBSID09IDA6CgkJCQkJQSArPSAxCgkJCQkJcHJpbnQoZiJcclsgLyBdIEF0dGVtcHRzIDoge0F9IiwgZW5kPSIiKQoJCQlSZXEgPSBwb3N0KCJodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL2FjY291bnRzL2VkaXQvIiwgZGF0YT17ImZpcnN0X25hbWUiOk4sImVtYWlsIjpFbWFpbCwidXNlcm5hbWUiOlRyLCJwaG9uZV9udW1iZXIiOlBob25lLCJiaW9ncmFwaHkiOkJpbywiZXh0ZXJuYWxfdXJsIjoiIiwiY2hhaW5pbmdfZW5hYmxlZCI6Im9uIn0sIGhlYWRlcnM9eyJVc2VyLUFnZW50IjogIk1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg0LjAuNDE0Ny4xMzUgU2FmYXJpLzUzNy4zNiIsIngtY3NyZnRva2VuIjogQ29va2llc1siY3NyZnRva2VuIl0sIngtaWctYXBwLWlkIjogIjkzNjYxOTc0MzM5MjQ1OSIsIngtaW5zdGFncmFtLWFqYXgiOiAiMGMxNWY0ZDdkNDRhIiwieC1yZXF1ZXN0ZWQtd2l0aCI6ICJYTUxIdHRwUmVxdWVzdCJ9LCBjb29raWVzPUNvb2tpZXMpLnN0YXR1c19jb2RlCgkJCWlmIFJlcSA9PSAyMDA6CgkJCQlpZiBSID09IDA6CgkJCQkJUiA9IDEKCQkJCQlpZiBBID09IDA6CgkJCQkJCXByaW50KGYie0NvbG9yfVsgIiArIEZvcmUuV0hJVEUgKyAiLyIgKyBDb2xvciArIGYiIF0ge01zZ317VHJ9IikKCQkJCQllbHNlOgoJCQkJCQlwcmludChmIlxue0NvbG9yfVsgIiArIEZvcmUuV0hJVEUgKyAiLyIgKyBDb2xvciArIGYiIF0ge01zZ317VHJ9IikKCQkJCQlTZW5kRGljKCkKCQkJCQlNZXNzYWdlQm94KE5vbmUsIGYne01zZ317VHJ9JywgTmFtZSwgMCkKCQkJZWxpZiBSZXEgPT0gNDI5OgoJCQkJaWYgUiA9PSAwOgoJCQkJCVQgKz0gMQoJCQkJCWlmIFQgPT0gMTA6CgkJCQkJCXByaW50KGYiXG57Q29sb3J9WyAiICsgRm9yZS5XSElURSArICIvIiArIENvbG9yICsgZiIgXSBZb3VyIEFjY291bnQgaXMgU3BhbSwgRW50ZXIgVG8gRXhpdCIpCgkJCWVsaWYgUmVxID09IDQwMDoKCQkJCWlmIFIgPT0gMDoKCQkJCQlBICs9IDEKCQkJCQlwcmludChmIlxyWyAvIF0gQXR0ZW1wdHMgOiB7QX0iLCBlbmQ9IiIpCgkJZXhjZXB0OgoJCQlISSA9IDAKVXMgPSBpbnB1dCgiWyAvIF0gVXNlciA6ICIpClBhID0gaW5wdXQoIlsgLyBdIFBhc3MgOiAiKQpUciA9IGlucHV0KCJbIC8gXSBUYXJnZXQgOiAiKQpUaHIgPSBpbnQoaW5wdXQoIlsgLyBdIFRocmVhZCA6ICIpKQpvcy5zeXN0ZW0oImNscyIpCnByaW50KENvbG9yICsgQmFubmVyKQpwcmludChmIntDb2xvcn1bICIgKyBGb3JlLldISVRFICsgIi8iICsgQ29sb3IgKyBmIiBdIFVzZXIgOiB7VXN9XG57Q29sb3J9WyAiICsgRm9yZS5XSElURSArICIvIiArIENvbG9yICsgZiIgXSBQYXNzIDogSG93IEFyZSBZb3U\/XG57Q29sb3J9WyAiICsgRm9yZS5XSElURSArICIvIiArIENvbG9yICsgZiIgXSBUYXJnZXQgOiB7VHJ9XG57Q29sb3J9WyAiICsgRm9yZS5XSElURSArICIvIiArIENvbG9yICsgZiIgXSBUaHJlYWQgOiB7VGhyfSIpClJlcSA9IHBvc3QoImh0dHBzOi8vaS5pbnN0YWdyYW0uY29tL2FwaS92MS9hY2NvdW50cy9sb2dpbi8iLCBkYXRhPXsicGFzc3dvcmQiOlBhLCJ1c2VybmFtZSI6VXMsImRldmljZV9pZCI6dXVpZC51dWlkNCgpfSwgaGVhZGVycz17IlVzZXItQWdlbnQiOiJJbnN0YWdyYW0gMTIzLjEuMC4yNi4xMTQgKGlQaG9uZVhSKSIsIkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCJ9KQppZiAibG9nZ2VkX2luX3VzZXIiIGluIFJlcS50ZXh0OgoJQ29va2llcyA9IFJlcS5jb29raWVzCglSZXEgPSBwb3N0KCJodHRwczovL2kuaW5zdGFncmFtLmNvbS9hcGkvdjEvYWNjb3VudHMvc2V0X3VzZXJuYW1lLyIsIGRhdGE9eyJ1c2VybmFtZSI6InNhaGUifSwgaGVhZGVycz17IlVzZXItQWdlbnQiOiJJbnN0YWdyYW0gMTIzLjEuMC4yNi4xMTQgKGlQaG9uZVhSKSIsIkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCJ9LCBjb29raWVzPUNvb2tpZXMpCglpZiBSZXEuc3RhdHVzX2NvZGUgPT0gNDAwOgoJCXByaW50KGYie0NvbG9yfVsgIiArIEZvcmUuV0hJVEUgKyAiLyIgKyBDb2xvciArIGYiIF0gU2VjY2Vzc2Z1bGx5IExvZ2luIikKCQlSZXEgPSBnZXQoImh0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vYWNjb3VudHMvZWRpdC8\/X19hPTEiLCBoZWFkZXJzPXsiVXNlci1BZ2VudCI6ICJNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjEpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS84NC4wLjQxNDcuMTM1IFNhZmFyaS81MzcuMzYiLCJ4LWNzcmZ0b2tlbiI6IENvb2tpZXNbImNzcmZ0b2tlbiJdLCJ4LWlnLWFwcC1pZCI6ICI5MzY2MTk3NDMzOTI0NTkiLCJ4LWluc3RhZ3JhbS1hamF4IjogIjBjMTVmNGQ3ZDQ0YSIsIngtcmVxdWVzdGVkLXdpdGgiOiAiWE1MSHR0cFJlcXVlc3QifSwgY29va2llcz1Db29raWVzLCB0aW1lb3V0PTMpLmpzb24oKQoJCXRyeToKCQkJTiA9IFJlcVsiZm9ybV9kYXRhIl1bImZpcnN0X25hbWUiXQoJCWV4Y2VwdDoKCQkJTiA9ICIiCgkJdHJ5OgoJCQlFbWFpbCA9IFJlcVsiZm9ybV9kYXRhIl1bImVtYWlsIl0KCQlleGNlcHQ6CgkJCUVtYWlsID0gIiIKCQl0cnk6CgkJCVBob25lID0gUmVxWyJmb3JtX2RhdGEiXVsicGhvbmVfbnVtYmVyIl0KCQlleGNlcHQ6CgkJCVBob25lID0gIiIKCQlNZXNzYWdlQm94KE5vbmUsIGYnRW50ZXIgWyBPayBdIFRvIFJlYWR5JywgTmFtZSwgMCkKCQlmb3IgaSBpbiByYW5nZShUaHIgKiAxMDApOgoJCQlUID0gVGhyZWFkKHRhcmdldD1Td2FwKS5zdGFydCgpCgllbGlmIFJlcS5zdGF0dXNfY29kZSA9PSA0Mjk6CgkJcHJpbnQoZiJ7Q29sb3J9WyAiICsgRm9yZS5XSElURSArICIvIiArIENvbG9yICsgZiIgXSBZb3VyIEFjY291bnQgaXMgU3BhbSwgRW50ZXIgVG8gRXhpdCIpO2lucHV0KCkKCQlleGl0KCkKCWVsc2U6CgkJcHJpbnQoZiJ7Q29sb3J9WyAiICsgRm9yZS5XSElURSArICIvIiArIENvbG9yICsgZiIgXSB7UmVxLnRleHR9Iik7aW5wdXQoKQoJCWV4aXQoKQplbGlmICJjaGEiIGluIFJlcS50ZXh0OgoJQ29va2llc0NoYWxsYW5nZSA9IFJlcS5jb29raWVzCglQYXRoQ2hhbGxlbmdlID0gUmVxLmpzb24oKVsnY2hhbGxlbmdlJ11bJ2FwaV9wYXRoJ10KCVNlY3VyZSA9IGdldCgiaHR0cHM6Ly9pLmluc3RhZ3JhbS5jb20vYXBpL3YxIiArIFBhdGhDaGFsbGVuZ2UsIGhlYWRlcnM9eyJVc2VyLUFnZW50IjoiSW5zdGFncmFtIDEyMy4xLjAuMjYuMTE0IChpUGhvbmVYUikiLCJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgifSwgY29va2llcz1Db29raWVzQ2hhbGxhbmdlKS5qc29uKCkKCXRyeToKCQlFbWFpbCA9IFNlY3VyZVsnc3RlcF9kYXRhJ11bJ2VtYWlsJ10KCWV4Y2VwdDoKCQlFbWFpbCA9ICIiCgl0cnk6CgkJUGhvbmUgPSBTZWN1cmVbJ3N0ZXBfZGF0YSddWydwaG9uZV9udW1iZXInXQoJZXhjZXB0OgoJCVBob25lID0gIiIKCWlmIG5vdCBFbWFpbCA9PSAiIiBhbmQgbm90IFBob25lID09ICIiOgoJCXByaW50KGYie0NvbG9yfVsgIiArIEZvcmUuV0hJVEUgKyAiLyIgKyBDb2xvciArICIgXSAxIDogIiArIFBob25lKQoJCXByaW50KGYie0NvbG9yfVsgIiArIEZvcmUuV0hJVEUgKyAiLyIgKyBDb2xvciArICIgXSAyIDogIiArIEVtYWlsKQoJCU1vZGUgPSBpbnQoaW5wdXQoIlsgLyBdIEVudGVyIE51bWJlciA6ICIpKSAtIDEKCWVsaWYgUGhvbmUgPT0gIiIgYW5kIEVtYWlsID09ICIiOgoJCXByaW50KGYie0NvbG9yfVsgIiArIEZvcmUuV0hJVEUgKyAiLyIgKyBDb2xvciArICIgXSBTZWN1cmUgVW5Lbm93cywgRW50ZXIgVG8gRXhpdCIpCgkJaW5wdXQoKQoJCWV4aXQoKQoJZWxzZToKCQlpZiBub3QgRW1haWwgPT0gIiI6CgkJCXByaW50KGYie0NvbG9yfVsgIiArIEZvcmUuV0hJVEUgKyAiLyIgKyBDb2xvciArICIgXSAxIDogIiArIEVtYWlsKQoJCQlNb2RlID0gaW50KGlucHV0KCJbIC8gXSBFbnRlciBOdW1iZXIgOiAiKSkKCQlpZiBub3QgUGhvbmUgPT0gIiI6CgkJCXByaW50KGYie0NvbG9yfVsgIiArIEZvcmUuV0hJVEUgKyAiLyIgKyBDb2xvciArICIgXSAxIDogIiArIFBob25lKQoJCQlNb2RlID0gaW50KGlucHV0KCJbIC8gXSBFbnRlciBOdW1iZXIgOiAiKSkgLSAxCglTZW5kQ29kZSA9IHBvc3QoImh0dHBzOi8vaS5pbnN0YWdyYW0uY29tL2FwaS92MSIgKyBQYXRoQ2hhbGxlbmdlLCBoZWFkZXJzPXsiVXNlci1BZ2VudCI6Ikluc3RhZ3JhbSAxMjMuMS4wLjI2LjExNCAoaVBob25lWFIpIiwiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04In0sIGRhdGE9eyJjaG9pY2UiOk1vZGV9LCBjb29raWVzPUNvb2tpZXNDaGFsbGFuZ2UpLmpzb24oKQoJQ29udGFjdCA9IFNlbmRDb2RlWydzdGVwX2RhdGEnXVsnY29udGFjdF9wb2ludCddCglwcmludChmIntDb2xvcn1bICIgKyBGb3JlLldISVRFICsgIi8iICsgQ29sb3IgKyBmIiBdIFNlY2Nlc3NmdWxseSBTZW5kIFRvIHtDb250YWN0fSIpCglDb2RlID0gaW5wdXQoJ1sgLyBdIEVudGVyIFlvdXIgQ29kZSA6ICcpCglDb25maXJtQ29kZSA9IHBvc3QoImh0dHBzOi8vaS5pbnN0YWdyYW0uY29tL2FwaS92MSIgKyBQYXRoQ2hhbGxlbmdlLCBoZWFkZXJzPXsiVXNlci1BZ2VudCI6Ikluc3RhZ3JhbSAxMjMuMS4wLjI2LjExNCAoaVBob25lWFIpIiwiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04In0sIGRhdGE9eyJzZWN1cml0eV9jb2RlIjpDb2RlfSwgY29va2llcz1Db29raWVzQ2hhbGxhbmdlKQoJb3Muc3lzdGVtKCJjbHMiKQoJcHJpbnQoQ29sb3IgKyBCYW5uZXIpCglwcmludChmIntDb2xvcn1bICIgKyBGb3JlLldISVRFICsgIi8iICsgQ29sb3IgKyBmIiBdIFVzZXIgOiB7VXN9XG57Q29sb3J9WyAiICsgRm9yZS5XSElURSArICIvIiArIENvbG9yICsgZiIgXSBQYXNzIDogSG93IEFyZSBZb3U\/XG57Q29sb3J9WyAiICsgRm9yZS5XSElURSArICIvIiArIENvbG9yICsgZiIgXSBUYXJnZXQgOiB7VHJ9XG57Q29sb3J9WyAiICsgRm9yZS5XSElURSArICIvIiArIENvbG9yICsgZiIgXSBUaHJlYWQgOiB7VGhyfSIpCglpZiAibG9nZ2VkX2luX3VzZXIiIGluIENvbmZpcm1Db2RlLnRleHQ6CgkJcHJpbnQoZiJ7Q29sb3J9WyAiICsgRm9yZS5XSElURSArICIvIiArIENvbG9yICsgZiIgXSBTZWNjZXNzZnVsbHkgTG9naW4iKQoJCUNvb2tpZXMgPSBDb25maXJtQ29kZS5jb29raWVzCgkJUmVxID0gcG9zdCgiaHR0cHM6Ly9pLmluc3RhZ3JhbS5jb20vYXBpL3YxL2FjY291bnRzL3NldF91c2VybmFtZS8iLCBkYXRhPXsidXNlcm5hbWUiOiJzYWhlIn0sIGhlYWRlcnM9eyJVc2VyLUFnZW50IjoiSW5zdGFncmFtIDEyMy4xLjAuMjYuMTE0IChpUGhvbmVYUikiLCJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgifSwgY29va2llcz1Db29raWVzKQoJCWlmIFJlcS5zdGF0dXNfY29kZSA9PSA0MDA6CgkJCVJlcSA9IGdldCgiaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS9hY2NvdW50cy9lZGl0Lz9fX2E9MSIsIGhlYWRlcnM9eyJVc2VyLUFnZW50IjogIk1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg0LjAuNDE0Ny4xMzUgU2FmYXJpLzUzNy4zNiIsIngtY3NyZnRva2VuIjogQ29va2llc1siY3NyZnRva2VuIl0sIngtaWctYXBwLWlkIjogIjkzNjYxOTc0MzM5MjQ1OSIsIngtaW5zdGFncmFtLWFqYXgiOiAiMGMxNWY0ZDdkNDRhIiwieC1yZXF1ZXN0ZWQtd2l0aCI6ICJYTUxIdHRwUmVxdWVzdCJ9LCBjb29raWVzPUNvb2tpZXMsIHRpbWVvdXQ9MykuanNvbigpCgkJCXRyeToKCQkJCU4gPSBSZXFbImZvcm1fZGF0YSJdWyJmaXJzdF9uYW1lIl0KCQkJZXhjZXB0OgoJCQkJTiA9ICIiCgkJCXRyeToKCQkJCUVtYWlsID0gUmVxWyJmb3JtX2RhdGEiXVsiZW1haWwiXQoJCQlleGNlcHQ6CgkJCQlFbWFpbCA9ICIiCgkJCXRyeToKCQkJCVBob25lID0gUmVxWyJmb3JtX2RhdGEiXVsicGhvbmVfbnVtYmVyIl0KCQkJZXhjZXB0OgoJCQkJUGhvbmUgPSAiIgoJCQlwcmludChmIntDb2xvcn1bICIgKyBGb3JlLldISVRFICsgIi8iICsgQ29sb3IgKyBmIiBdIFNlY2Nlc3NmdWxseSBMb2dpbiIpCgkJCU1lc3NhZ2VCb3goTm9uZSwgZidFbnRlciBbIE9rIF0gVG8gUmVhZHknLCBOYW1lLCAwKQoJCQlmb3IgaSBpbiByYW5nZShUaHIgKiAxMDApOgoJCQkJVCA9IFRocmVhZCh0YXJnZXQ9U3dhcCkuc3RhcnQoKQoJCWVsaWYgUmVxLnN0YXR1c19jb2RlID09IDQyOToKCQkJcHJpbnQoZiJ7Q29sb3J9WyAiICsgRm9yZS5XSElURSArICIvIiArIENvbG9yICsgZiIgXSBZb3VyIEFjY291bnQgaXMgU3BhbSwgRW50ZXIgVG8gRXhpdCIpCgkJCWlucHV0KCkKCQkJZXhpdCgpCgkJZWxzZToKCQkJcHJpbnQoZiJ7Q29sb3J9WyAiICsgRm9yZS5XSElURSArICIvIiArIENvbG9yICsgZiIgXSB7UmVxLnRleHR9Iik7aW5wdXQoKQoJCQlleGl0KCkKCWVsc2U6CgkJcHJpbnQoZiJ7Q29sb3J9WyAiICsgRm9yZS5XSElURSArICIvIiArIENvbG9yICsgZiIgXSB7Q29uZmlybUNvZGUudGV4dH0iKTtpbnB1dCgpCgkJZXhpdCgpCmVsc2U6CglwcmludChmIntDb2xvcn1bICIgKyBGb3JlLldISVRFICsgIi8iICsgQ29sb3IgKyBmIiBdIHtSZXEudGV4dH0iKTtpbnB1dCgpCglleGl0KCkK
